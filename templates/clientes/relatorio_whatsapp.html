<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Lista de Clientes - WhatsApp</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Plus Jakarta Sans', sans-serif; color: #1E293B; padding: 30px; }

.header { display: flex; align-items: center; justify-content: space-between; border-bottom: 3px solid #2563EB; padding-bottom: 16px; margin-bottom: 24px; }
.header-logo { font-size: 22px; font-weight: 800; color: #0F1A2E; }
.header-logo span { color: #2563EB; }
.header-right { text-align: right; font-size: 12px; color: #64748B; }
.header-title { font-size: 16px; font-weight: 700; color: #0F1A2E; }
.header-subtitle { font-size: 12px; color: #64748B; margin-top: 2px; }

table { width: 100%; border-collapse: collapse; margin-top: 8px; }
th { text-align: left; padding: 8px 12px; font-size: 11px; font-weight: 700; color: #64748B; text-transform: uppercase; letter-spacing: 0.04em; background: #F8FAFC; border-bottom: 2px solid #E2E8F0; }
td { padding: 8px 12px; font-size: 12px; border-bottom: 1px solid #F0F4F8; }
tr:hover td { background: #FAFBFC; }
.id-col { font-weight: 700; color: #2563EB; width: 60px; }
.nome-col { font-weight: 600; }
.tel-col { font-family: 'Courier New', monospace; font-size: 12px; font-weight: 600; }

.total { margin-top: 16px; font-size: 13px; color: #64748B; font-weight: 600; }
.footer { margin-top: 30px; padding-top: 16px; border-top: 1px solid #E2E8F0; display: flex; justify-content: space-between; font-size: 11px; color: #94A3B8; }

.no-print { margin-bottom: 16px; }
.btn-print { padding: 10px 20px; background: #2563EB; color: #fff; border: none; border-radius: 8px; font-family: inherit; font-size: 13px; font-weight: 600; cursor: pointer; }
.btn-print:hover { background: #1D4ED8; }

@media print {
  body { padding: 15px; }
  .no-print { display: none; }
  @page { margin: 15mm; }
}
</style>
</head>
<body>

<div class="no-print">
  <button class="btn-print" onclick="window.print()">Imprimir</button>
</div>

<div class="header">
  <div>
    <div class="header-logo">M<span>2</span> Informatica</div>
    <div class="header-title">Lista de Clientes - WhatsApp</div>
    <div class="header-subtitle">Clientes ativos com celular/WhatsApp cadastrado</div>
  </div>
  <div class="header-right">
    <div id="dataImpressao"></div>
    <div>Total: {{ clientes|length }} cliente{{ 's' if clientes|length != 1 }}</div>
  </div>
</div>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome</th>
      <th>Celular/WhatsApp</th>
      <th>Cidade/UF</th>
    </tr>
  </thead>
  <tbody>
    {% for c in clientes %}
    <tr>
      <td class="id-col">#{{ c.id }}</td>
      <td class="nome-col">{{ c.nome }}</td>
      <td class="tel-col">{{ c.celular_formatado() }}</td>
      <td>{% if c.cidade %}{{ c.cidade }}{% if c.uf %}/{{ c.uf }}{% endif %}{% else %}-{% endif %}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<div class="total">Total: {{ clientes|length }} cliente{{ 's' if clientes|length != 1 }}</div>

<div class="footer">
  <span>M2 Informatica - Sistema de Gestao</span>
  <span id="footerData"></span>
</div>

<script>
const data = new Date().toLocaleDateString('pt-BR');
document.getElementById('dataImpressao').textContent = 'Data: ' + data;
document.getElementById('footerData').textContent = 'Impresso em ' + data;
</script>
</body>
</html>
